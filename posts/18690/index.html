<!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.9.0"><title>åœ¨ Windows ä¸Šå®‰è£… Rust - è¥¿ç“œæ˜Ÿ ğŸ‰âœ¨</title><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><script>!function(e,t,a,n){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var g=t.getElementsByTagName(a)[0],m=t.createElement(a);m.async=!0,m.src="https://www.googletagmanager.com/gtm.js?id=GTM-MTHFNXR",g.parentNode.insertBefore(m,g)}(window,document,"script","dataLayer")</script><link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/suikastar/suikastar.github.io@jsdelivr-20200628040132/images/favicon.png" type="image/png"><meta name="description" content="Rust æ˜¯ç”± Mozilla ä¸»å¯¼å¼€å‘çš„é€šç”¨ã€ç¼–è¯‘å‹ç¼–ç¨‹è¯­è¨€ã€‚è®¾è®¡å‡†åˆ™ä¸ºâ€œå®‰å…¨ã€å¹¶å‘ã€å®ç”¨â€ï¼Œæ”¯æŒå‡½æ•°å¼ã€å¹¶å‘å¼ã€è¿‡ç¨‹å¼ä»¥åŠé¢å‘å¯¹è±¡çš„ç¼–ç¨‹é£æ ¼ã€‚"><meta name="keywords" content="Rust"><meta property="og:type" content="article"><meta property="og:title" content="åœ¨ Windows ä¸Šå®‰è£… Rust"><meta property="og:url" content="http://suikastar.com/posts/18690/index.html"><meta property="og:site_name" content="è¥¿ç“œæ˜Ÿ ğŸ‰âœ¨"><meta property="og:description" content="Rust æ˜¯ç”± Mozilla ä¸»å¯¼å¼€å‘çš„é€šç”¨ã€ç¼–è¯‘å‹ç¼–ç¨‹è¯­è¨€ã€‚è®¾è®¡å‡†åˆ™ä¸ºâ€œå®‰å…¨ã€å¹¶å‘ã€å®ç”¨â€ï¼Œæ”¯æŒå‡½æ•°å¼ã€å¹¶å‘å¼ã€è¿‡ç¨‹å¼ä»¥åŠé¢å‘å¯¹è±¡çš„ç¼–ç¨‹é£æ ¼ã€‚"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2020-06-28T04:01:13.477Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="åœ¨ Windows ä¸Šå®‰è£… Rust"><meta name="twitter:description" content="Rust æ˜¯ç”± Mozilla ä¸»å¯¼å¼€å‘çš„é€šç”¨ã€ç¼–è¯‘å‹ç¼–ç¨‹è¯­è¨€ã€‚è®¾è®¡å‡†åˆ™ä¸ºâ€œå®‰å…¨ã€å¹¶å‘ã€å®ç”¨â€ï¼Œæ”¯æŒå‡½æ•°å¼ã€å¹¶å‘å¼ã€è¿‡ç¨‹å¼ä»¥åŠé¢å‘å¯¹è±¡çš„ç¼–ç¨‹é£æ ¼ã€‚"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdui@0.4.3/dist/css/mdui.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.15.9/build/styles/atom-one-dark.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://at.alicdn.com/t/font_1038733_0xvrvpg9c0r.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/suikastar/suikastar.github.io@jsdelivr-20200628040132/css/style.css"><script src="https://cdn.jsdelivr.net/gh/suikastar/suikastar.github.io@jsdelivr-20200628040132/js/tools.js"></script></head><body class="mdui-drawer-body-left"><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MTHFNXR" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div id="nexmoe-background"><script>var url=get_img_url({default:{url:"https://cdn.jsdelivr.net/gh/suikastar/suikastar.github.io@jsdelivr-20200628040132/images/street_daytime.jpg",w:1920,h:1080},interval:{"6-16":{url:"https://cdn.jsdelivr.net/gh/suikastar/suikastar.github.io@jsdelivr-20200628040132/images/street_daytime.jpg",w:1920,h:1080},"16-19":{url:"https://cdn.jsdelivr.net/gh/suikastar/suikastar.github.io@jsdelivr-20200628040132/images/street_nightfall.jpg",w:1920,h:1080},"19-6":{url:"https://cdn.jsdelivr.net/gh/suikastar/suikastar.github.io@jsdelivr-20200628040132/images/street_at_night.jpg",w:1920,h:1080}}});document.write('<div class="nexmoe-bg" style="background-image: url('+url+')"></div>')</script><div class="mdui-appbar mdui-shadow-0 nexmoe-layout-top"><div class="mdui-toolbar"><a mdui-drawer="{target: '#drawer', swipe: true}" title="menu" class="mdui-btn mdui-btn-icon"><i class="mdui-icon material-icons">menu</i></a><div class="mdui-toolbar-spacer"></div><a href="/" title="suika" class="mdui-btn mdui-btn-icon nexmoe-layout-top-icon"><img src="https://cdn.jsdelivr.net/gh/suikastar/suikastar.github.io@jsdelivr-20200628040132/images/avatar.jpg"></a></div></div></div><div id="nexmoe-header"><div class="nexmoe-drawer mdui-drawer" id="drawer"><div class="nexmoe-avatar mdui-ripple"><a href="/" title="suika"><img src="https://cdn.jsdelivr.net/gh/suikastar/suikastar.github.io@jsdelivr-20200628040132/images/avatar.jpg" alt="suika"></a></div><div class="nexmoe-count"><div><span>æ–‡ç« </span>14</div><div><span>æ ‡ç­¾</span>15</div><div><span>åˆ†ç±»</span>2</div></div><ul class="nexmoe-list mdui-list" mdui-collapse="{accordion: true}"><a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/" title="å›åˆ°é¦–é¡µ"><i class="mdui-list-item-icon nexmoefont icon-home"></i><div class="mdui-list-item-content">å›åˆ°é¦–é¡µ</div></a><a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/about.html" title="å…³äºç½‘ç«™"><i class="mdui-list-item-icon nexmoefont icon-info-circle"></i><div class="mdui-list-item-content">å…³äºç½‘ç«™</div></a><a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/links.html" title="æˆ‘çš„æœ‹å‹"><i class="mdui-list-item-icon nexmoefont icon-unorderedlist"></i><div class="mdui-list-item-content">æˆ‘çš„æœ‹å‹</div></a></ul><aside id="nexmoe-sidebar"><div class="nexmoe-widget-wrap"><h3 class="nexmoe-widget-title">ç¤¾äº¤</h3><div class="nexmoe-widget nexmoe-social"><a class="mdui-ripple" href="https://github.com/suikastar/" target="_blank" mdui-tooltip="{content: 'GitHub'}" style="color:#191717;background-color:rgba(25,23,23,.15)"><i class="nexmoefont icon-github"></i> </a><a class="mdui-ripple" href="mailto:me@suikastar.com" target="_blank" mdui-tooltip="{content: 'é‚®ç®±'}" style="color:#1da1f2;background-color:rgba(29,161,242,.1)"><i class="nexmoefont icon-mail-fill"></i></a></div></div><div class="nexmoe-widget-wrap"><h3 class="nexmoe-widget-title">æ–‡ç« åˆ†ç±»</h3><div class="nexmoe-widget"><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/other/">å…¶ä»–</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/code/">ç¼–ç¨‹</a><span class="category-list-count">11</span></li></ul></div></div><div class="nexmoe-widget-wrap"><h3 class="nexmoe-widget-title">æ ‡ç­¾</h3><div id="randomtagcloud" class="nexmoe-widget tagcloud"><a href="/tags/c/" style="font-size:10px">C</a> <a href="/tags/github/" style="font-size:15px">GitHub</a> <a href="/tags/hexo/" style="font-size:15px">Hexo</a> <a href="/tags/io/" style="font-size:10px">IO</a> <a href="/tags/Java/" style="font-size:10px">Java</a> <a href="/tags/javascript/" style="font-size:20px">JavaScript</a> <a href="/tags/linux/" style="font-size:10px">Linux</a> <a href="/tags/nodejs/" style="font-size:20px">Node.js</a> <a href="/tags/oop/" style="font-size:10px">OOP</a> <a href="/tags/openwrt/" style="font-size:10px">OpenWrt</a> <a href="/tags/python/" style="font-size:10px">Python</a> <a href="/tags/rust/" style="font-size:20px">Rust</a> <a href="/tags/stack/" style="font-size:10px">æ ˆ</a> <a href="/tags/thread/" style="font-size:10px">çº¿ç¨‹</a> <a href="/tags/music/" style="font-size:10px">éŸ³ä¹</a></div></div><div class="nexmoe-widget-wrap"><h3 class="nexmoe-widget-title">æ–‡ç« å½’æ¡£</h3><div class="nexmoe-widget"><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">2019å¹´09æœˆ</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">2019å¹´08æœˆ</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">2019å¹´07æœˆ</a></li></ul></div></div></aside><div class="nexmoe-copyright">&copy; 2020 suika<br>Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> & <a href="https://nexmoe.com/hexo-theme-nexmoe.html" target="_blank">Nexmoe</a></div></div></div><div id="nexmoe-content"><div class="nexmoe-primary"><div class="nexmoe-post"><div class="nexmoe-post-cover mdui-ripple"><script>var data=get_img_data({default:{url:"https://cdn.jsdelivr.net/gh/suikastar/suikastar.github.io@jsdelivr-20200628040132/images/classroom.jpg",w:1920,h:1080},interval:{"6-19":{url:"https://cdn.jsdelivr.net/gh/suikastar/suikastar.github.io@jsdelivr-20200628040132/images/classroom.jpg",w:1920,h:1080},"19-6":{url:"https://cdn.jsdelivr.net/gh/suikastar/suikastar.github.io@jsdelivr-20200628040132/images/classroom_night_02.jpg",w:1920,h:1080}}}),url=data.url,percentage=100*data.ratio;document.write('<div class="img-responsive" style="padding-bottom:'+percentage+'%;"><img src="'+url+'" alt="åœ¨ Windows ä¸Šå®‰è£… Rust"></div>')</script><h1>åœ¨ Windows ä¸Šå®‰è£… Rust</h1></div><div class="nexmoe-post-meta"><a><i class="nexmoefont icon-calendar-fill"></i>2019å¹´08æœˆ01æ—¥</a> <a><i class="nexmoefont icon-areachart"></i>607 å­—</a> <a><i class="nexmoefont icon-time-circle-fill"></i>å¤§æ¦‚ 2 åˆ†é’Ÿ</a> <a class="nexmoefont icon-appstore-fill -link" href="/categories/code/">ç¼–ç¨‹</a> <a class="nexmoefont icon-tag-fill -link" href="/tags/rust/">Rust</a></div><article><p>Rust æ˜¯ç”± Mozilla ä¸»å¯¼å¼€å‘çš„é€šç”¨ã€ç¼–è¯‘å‹ç¼–ç¨‹è¯­è¨€ã€‚è®¾è®¡å‡†åˆ™ä¸ºâ€œå®‰å…¨ã€å¹¶å‘ã€å®ç”¨â€ï¼Œæ”¯æŒå‡½æ•°å¼ã€å¹¶å‘å¼ã€è¿‡ç¨‹å¼ä»¥åŠé¢å‘å¯¹è±¡çš„ç¼–ç¨‹é£æ ¼ã€‚</p><a id="more"></a><h2 id="å®‰è£…-rustup"><a href="#å®‰è£…-rustup" class="headerlink" title="å®‰è£… rustup"></a>å®‰è£… rustup</h2><h4 id="ä»‹ç»-rustup"><a href="#ä»‹ç»-rustup" class="headerlink" title="ä»‹ç» rustup"></a>ä»‹ç» rustup</h4><p>rustup æ˜¯ä¸€ä¸ªç”¨äºç®¡ç† Rust ç‰ˆæœ¬å’Œç›¸å…³å·¥å…·çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œä¸€èˆ¬é€šè¿‡ rustup æ¥ä¸‹è½½å®‰è£… Rustã€‚</p><h4 id="ä¸‹è½½-rustup"><a href="#ä¸‹è½½-rustup" class="headerlink" title="ä¸‹è½½ rustup"></a>ä¸‹è½½ rustup</h4><p><a href="https://win.rustup.rs/" target="_blank" rel="noopener">å®˜æ–¹ä¸‹è½½</a></p><h2 id="å®‰è£…-Rust"><a href="#å®‰è£…-Rust" class="headerlink" title="å®‰è£… Rust"></a>å®‰è£… Rust</h2><p>è¿è¡Œä¸‹è½½å¥½çš„ rustup ç¨‹åºï¼Œä¼šç»™å‡ºå¦‚ä¸‹ä¿¡æ¯ï¼š</p><pre><code class="cmd">Welcome to Rust!

This will download and install the official compiler for the Rust programming
language, and its package manager, Cargo.

It will add the cargo, rustc, rustup and other commands to Cargo&#39;s bin
directory, located at:

  C:\Users\&lt;username&gt;\.cargo\bin

This path will then be added to your PATH environment variable by modifying the
HKEY_CURRENT_USER/Environment/PATH registry key.

You can uninstall at any time with rustup self uninstall and these changes will
be reverted.

Current installation options:

   default host triple: x86_64-pc-windows-msvc
     default toolchain: stable
  modify PATH variable: yes

1) Proceed with installation (default)
2) Customize installation
3) Cancel installation
&gt;</code></pre><ul><li>å¦‚æœé€‰æ‹© 1)ï¼Œé»˜è®¤ä¼šå®‰è£…åŸºäº MSVC çš„ Rust ç‰ˆæœ¬<ul><li>éœ€è¦é…ç½® C++ build tools ç¯å¢ƒ</li></ul></li><li>å¦‚æœé€‰æ‹© 2)ï¼Œç”¨æˆ·å¯ä»¥é€‰æ‹©å®‰è£…åŸºäº GNU çš„ Rust ç‰ˆæœ¬<ul><li>éœ€è¦é…ç½® MinGW ç¯å¢ƒ</li></ul></li></ul><h2 id="é€‰æ‹©å®‰è£…åŸºäº-MSVC-çš„-Rust-ç‰ˆæœ¬"><a href="#é€‰æ‹©å®‰è£…åŸºäº-MSVC-çš„-Rust-ç‰ˆæœ¬" class="headerlink" title="é€‰æ‹©å®‰è£…åŸºäº MSVC çš„ Rust ç‰ˆæœ¬"></a>é€‰æ‹©å®‰è£…åŸºäº MSVC çš„ Rust ç‰ˆæœ¬</h2><ol><li>é€‰æ‹© 1) Proceed with installation (default)</li><li>â€¦</li><li>é…ç½® C++ build tools ç¯å¢ƒ</li></ol><h2 id="é€‰æ‹©å®‰è£…åŸºäº-GNU-çš„-Rust-ç‰ˆæœ¬"><a href="#é€‰æ‹©å®‰è£…åŸºäº-GNU-çš„-Rust-ç‰ˆæœ¬" class="headerlink" title="é€‰æ‹©å®‰è£…åŸºäº GNU çš„ Rust ç‰ˆæœ¬"></a>é€‰æ‹©å®‰è£…åŸºäº GNU çš„ Rust ç‰ˆæœ¬</h2><ol><li>é€‰æ‹© 2) Customize installation</li><li>è¾“å…¥ x86_64-pc-windows-gnu</li><li>â€¦</li><li>é…ç½® MinGW ç¯å¢ƒ</li></ol><h2 id="é…ç½®-C-build-tools-ç¯å¢ƒ"><a href="#é…ç½®-C-build-tools-ç¯å¢ƒ" class="headerlink" title="é…ç½® C++ build tools ç¯å¢ƒ"></a>é…ç½® C++ build tools ç¯å¢ƒ</h2><p>ä»¥ç®¡ç†å‘˜æƒé™æ‰“å¼€ cmd æˆ– PowerShell è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><pre><code class="cmd">npm install --global windows-build-tools --vs2015</code></pre><ul><li>å¦‚æœä½ çš„ç³»ç»Ÿæç¤ºæ‰¾ä¸åˆ° npm å‘½ä»¤ï¼Œä½ å¯èƒ½éœ€è¦å®‰è£… <a href="https://nodejs.org/dist/v10.16.1/node-v10.16.1-x64.msi" target="_blank" rel="noopener">Node.js</a>ã€‚</li></ul><h2 id="é…ç½®-MinGW-ç¯å¢ƒ"><a href="#é…ç½®-MinGW-ç¯å¢ƒ" class="headerlink" title="é…ç½® MinGW ç¯å¢ƒ"></a>é…ç½® MinGW ç¯å¢ƒ</h2><h4 id="ä»‹ç»-msys2"><a href="#ä»‹ç»-msys2" class="headerlink" title="ä»‹ç» msys2"></a>ä»‹ç» msys2</h4><p>msys2 æ˜¯ Windows ä¸Šçš„ä¸€ä¸ªè½¯ä»¶å‘è¡Œå’Œæ„å»ºå¹³å°ã€‚è‡ªå¸¦ pacman åŒ…ç®¡ç†ç³»ç»Ÿï¼Œå¯ä»¥å¿«é€Ÿçš„ä¸‹è½½å®‰è£…å„å¼å„æ ·çš„è½¯ä»¶åŒ…ã€‚ä½¿ç”¨ MinGW-w64 å·¥å…·é“¾, å¯ä»¥æ–¹ä¾¿çš„æ„å»ºæœ¬æœº Windows åº”ç”¨ç¨‹åºã€‚</p><h4 id="ä¸‹è½½å®‰è£…-msys2"><a href="#ä¸‹è½½å®‰è£…-msys2" class="headerlink" title="ä¸‹è½½å®‰è£… msys2"></a>ä¸‹è½½å®‰è£… msys2</h4><p><a href="http://repo.msys2.org/distrib/x86_64/msys2-x86_64-20190524.exe" target="_blank" rel="noopener">å®˜æ–¹ä¸‹è½½</a></p><h4 id="å®‰è£…è½¯ä»¶åŒ…"><a href="#å®‰è£…è½¯ä»¶åŒ…" class="headerlink" title="å®‰è£…è½¯ä»¶åŒ…"></a>å®‰è£…è½¯ä»¶åŒ…</h4><p>æ‰“å¼€ msys2.exe è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><pre><code class="cmd">pacman -S base-devel
pacman -S mingw-w64-x86_64-toolchain</code></pre><h4 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h4><p>åœ¨ C:\Users\&lt;username&gt;\.cargo ç›®å½•ä¸‹æ–°å»º config æ–‡ä»¶ï¼Œè¾“å…¥ä»¥ä¸‹å†…å®¹å¹¶ä¿å­˜ï¼š</p><pre><code class="toml">[target.x86_64-pc-windows-gnu]
linker = &quot;&lt;msys2_path&gt;/mingw64/bin/gcc.exe&quot;
ar = &quot;&lt;msys2_path&gt;/mingw64/bin/ar.exe&quot;</code></pre><ul><li>&lt;msys2_path&gt;ï¼šmsys2 çš„å®‰è£…ç›®å½•ï¼Œä¾‹å¦‚ D:/msys64</li><li>&lt;username&gt;ï¼šå½“å‰ç³»ç»Ÿç™»å½•çš„ç”¨æˆ·å</li></ul><h4 id="One-More-Thing"><a href="#One-More-Thing" class="headerlink" title="One More Thing"></a>One More Thing</h4><p>ä½ å¯èƒ½ä¼šåœ¨æ„å»ºåŒ…å« C/C++ çš„ Rust ç¨‹åºä¸Šé‡åˆ°ä¸€äº›é—®é¢˜ï¼š</p><pre><code class="cmd">undefined reference to `__imp___acrt_iob_func&#39;</code></pre><p>æœ‰å…³æ­¤é—®é¢˜çš„è§£å†³æ–¹æ¡ˆåœ¨ <a href="/posts/18691/">è¿™é‡Œ</a>ã€‚</p></article><div class="nexmoe-post-copyright"><i class="mdui-list-item-icon nexmoefont icon-info-circle"></i> <strong>æœ¬æ–‡ä½œè€…ï¼š</strong>suika<br><strong>æœ¬æ–‡é“¾æ¥ï¼š</strong><a href="http://suikastar.com/posts/18690/" title="http://suikastar.com/posts/18690/" target="_blank" rel="noopener">http://suikastar.com/posts/18690/</a><br><strong>ç‰ˆæƒå£°æ˜ï¼š</strong>æœ¬æ–‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank">ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™… (CC BY-NC-SA 4.0)</a> åè®®è¿›è¡Œè®¸å¯</div><section class="nexmoe-comment"><script id="dsq-count-scr" src="https://suikastar.disqus.com/count.js" async></script><div id="disqus_thread"></div><script>var disqus_config=function(){this.page.url="http://suikastar.com/posts/18690/",this.page.identifier="http://suikastar.com/posts/18690/"}</script><script id="disqus-thread-script">!function(){var e=document,t=e.createElement("script");t.src="//suikastar.disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)}()</script></section></div><div class="nexmoe-hitokoto"><p id="hitokoto">å°‘å¥³ç¥ˆç¥·ä¸­â€¦â€¦</p></div></div></div><script src="https://cdn.jsdelivr.net/npm/mdui@0.4.3/dist/js/mdui.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/smoothscroll-for-websites@1.4.9/SmoothScroll.min.js"></script><script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.15.9/build/highlight.min.js"></script><script>hljs.initHighlightingOnLoad()</script><script src="https://cdn.jsdelivr.net/gh/suikastar/suikastar.github.io@jsdelivr-20200628040132/js/app.js"></script></body></html>